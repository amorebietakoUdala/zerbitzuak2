{% extends 'base.html.twig' %}

{% block title %}{{"messages.erabiltzaileen" | trans | capitalize}} {{"messages.zerrenda" | trans | capitalize}}{% endblock %}

{% block stylesheets %}
    {{ parent() }}
	<link href="{{ asset('bower_components/bootstrap-table/dist/bootstrap-table.css') }}" rel="stylesheet" type="text/css">
	<link href="{{ asset('css/glyphicon.css') }}" rel="stylesheet" type="text/css">
	<link href="{{ asset('css/style.css') }}" rel="stylesheet" type="text/css">
	<link href="{{ asset('css/bootstrap-table-personalization.css') }}" rel="stylesheet" type="text/css">
	<link href="{{ asset('bower_components/sweetalert2/dist/sweetalert2.min.css') }}" rel="stylesheet" type="text/css">
{% endblock %}

{% block header %}
    {{ parent()}}
{% endblock %}

{% block menua %}
    {{ parent() }}
{% endblock %}

{% block mezuak %}
    {% for msg in app.session.flashBag.get('success') %}
	<div class="alert alert-success margin-top-13">
	    {{ msg | trans}}
	</div>
    {% endfor %}
    {% for msg in app.session.flashBag.get('error') %}
	<div class="alert alert-danger margin-top-13">
	    {{ msg | trans}}
	</div>
    {% endfor %}
{% endblock %}
    
{% block gorputza %}
    <div class="container">
	<div class="row">
	    <div class="margin-top-13">
		<table class="taula bootstrap-table">
		<thead>
		    <tr>
			<th data-sortable="true">{{"messages.id" | trans | capitalize}}</th>
			<th data-sortable="true">{{"messages.izena" | trans | capitalize}}</th>
			<th data-sortable="true">{{"messages.enpresa" | trans | capitalize}}</th>
			<th data-sortable="true">{{"messages.emaila" | trans | capitalize}}</th>
			<th data-sortable="true">{{"messages.telefonoa" | trans | capitalize}}</th>
			<th data-sortable="true">{{"messages.telefonoa2" | trans | capitalize}}</th>
			<th data-sortable="true">{{"messages.aktibatua" | trans | capitalize}}</th>
			<th data-sortable="true">{{"messages.aukerak" | trans | capitalize}}</th>
		    </tr>
		</thead>
		<tbody>
		    {% for erabiltzailea in erabiltzaileak %}
		    <tr>
			<td><a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}">{{erabiltzailea.id }}</a></td>
			<td><a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}">{{erabiltzailea.izena }}</a></td>
                        
			<td>
                            <a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}">
                            {% if erabiltzailea.enpresa != null %}
                                    {{erabiltzailea.enpresa.izena }}
                            {% else %}
                                    &nbsp;
                            {% endif %}
                            </a>
                        </td>
			<td><a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}">{{erabiltzailea.email }}</a></td>
			<td><a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}">{{erabiltzailea.telefonoa }}</a></td>
			<td><a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}">{{erabiltzailea.telefonoa2 }}</a></td>
			<td><a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}">
				{% if erabiltzailea.enabled == 1 %}{{ "messages.bai" | trans | capitalize }}{% else %}{{ "messages.ez" | trans | capitalize }}{% endif %}
			</a></td>
			<td>
			    <a href="{{ path ('admin_erabiltzailea_show', {'id': erabiltzailea.id }) }}"><i class="fa fa-eye prefix"></i></a>
			    &nbsp;<a href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}"><i class="fa fa-edit prefix"></i></a>
			    &nbsp;<a class="js-ezabatu_botoia" data-url="{{ path ('admin_erabiltzailea_delete', {'id': erabiltzailea.id }) }}" href="#"><i class="fa fa-window-close prefix"></i></a>
<!--
			    <div class="dropdown">
				<a class="dropdown-toggle" id="aukera_menua" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><i class="fa fa-bars" aria-hidden="true"></i></a>
				<div class="dropdown-menu dropdown-menu-right" aria-labelledby="aukera_menua">
				    <a class="dropdown-item" href="{{ path ('admin_erabiltzailea_show', {'id': erabiltzailea.id }) }}"><i class="fa fa-eye prefix"></i>&nbsp;{{ "messages.ikusi" | trans | capitalize }}</a>
				    <a class="dropdown-item" href="{{ path ('admin_erabiltzailea_edit', {'id': erabiltzailea.id }) }}"><i class="fa fa-edit prefix"></i>&nbsp;{{ "messages.editatu" | trans | capitalize }}</a>
				    <a class="dropdown-item js-ezabatu_botoia" data-url="{{ path ('admin_erabiltzailea_delete', {'id': erabiltzailea.id }) }}" href="#"><i class="fa fa-window-close prefix"></i>&nbsp;{{ "messages.ezabatu" | trans | capitalize }}</a>
				</div>
			    </div>
-->
			</td>
		    </tr>
		    {% endfor %}
		</tbody>
		</table>
	    </div>
	</div>
	<span id="btn-berria" class="pull-right"><a href="{{ path ('admin_erabiltzailea_new') }}" class="btn btn-primary btn-rounded btn-fixed"><i class="fa fa-plus"></i></a></span>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript" src="{{ asset('bower_components/sweetalert2/dist/sweetalert2.min.js') }}"></script>
    {{ include('default/bootstrap_table_js.html.twig') }}
{% endblock%}
